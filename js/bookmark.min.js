document.addEventListener('DOMContentLoaded', () => {
	var t = localStorage.getItem('bookmarkedKomik')
			? JSON.parse(localStorage.getItem('bookmarkedKomik'))
			: void 0,
		e = document.querySelector('#list-update_items-wrapper'),
		a = document.getElementById('sortby_bookmark').selectedOptions,
		n = a[0].value;
	function i(t, e) {
		var a,
			n = '';
		return (
			t || (a = e),
			'asc' === t &&
				(a = e.sort((t, e) =>
					t.title.toLowerCase() > e.title.toLowerCase()
						? 1
						: e.title.toLowerCase() > t.title.toLowerCase()
						? -1
						: 0
				)),
			'desc' === t &&
				(a = e.sort((t, e) =>
					t.title.toLowerCase() < e.title.toLowerCase()
						? 1
						: e.title.toLowerCase() < t.title.toLowerCase()
						? -1
						: 0
				)),
			a.forEach((t) => {
				n += `\n        <div class="list-update_item">\n        <a href="${
					t.link
				}" title="${
					t.title
				}">\n        <div class="list-update_item-image">\n            <div class="list-update_item-overlay"></div>\n            <span\n                class="type ${t.type.toLowerCase()}-bg">${
					t.type
				}</span>\n            <span class="flag ${t.type.toLowerCase()}-bg"></span>\n            <img\n                src="${
					t.image
				}"\n                class="ts-post-image wp-post-image attachment-medium size-medium" loading="lazy" />\n        </div>\n        <div class="list-update_item-info">\n                <div class="title" style="white-space:nowrap;display:inline-block; overflow: hidden; text-overflow: ellipsis; width: calc(100%);">${
					t.title
				}</div>\n\t\t\t\t<div class="other">\n\t\t\t\t\t<div class="rate">\n\t\t\t\t\t\t<div class="rating">\n\t\t\t\t\t\t\t<div class="rating-bungkus">\n\t\t\t\t\t\t\t\t<div class="rating-bungkus-bintang">\n\t\t\t\t\t\t\t\t\t<div class="rating-bintang">\n\t\t\t\t\t\t\t\t\t\t<span style="width: ${
					10 * t.rating
				}%"></span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="numscore">${
					t.rating
				}</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n        </div>\n        </a>\n    </div>\n        `;
			}),
			n
		);
	}
	if (
		(localStorage ||
			(e.innerHTML =
				'<span>Maaf, browsermu tidak mendukung fitur bookmark.</span>'),
		t ||
			(e.innerHTML =
				'\n    <span>Maaf, belum ada yang kamu bookmark</span>\n    '),
		Array.isArray(t) && t.length > 0)
	) {
		var s = i(n, t);
		e.innerHTML = s;
	}
	document.querySelector('.bookmark_button').addEventListener('click', (n) => {
		n.preventDefault();
		var s = i(a[0].value, t);
		e.innerHTML = s;
	});
});
